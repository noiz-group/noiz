# SPDX-License-Identifier: CECILL-B
# Copyright © 2015-2019 EOST UNISTRA, Storengy SAS, Damian Kula
# Copyright © 2019-2023 Contributors to the Noiz project.

.linting-parent:
  stage: linting
  before_script:
    - uv tool install rust-just
    - uv sync --all-groups

type-check:
  extends: .linting-parent
  script:
    - just mypy

ruff_check:
  extends: .linting-parent
  script:
    - just ruff_check_ci
  artifacts:
    reports:
      codequality: $CI_PROJECT_DIR/code-quality-report.json

ruff_format:
  extends: .linting-parent
  script:
    - just ruff_format_check

# Disabled temporarily - will be fixed in separate MR
# doc8_lint:
#   extends: .linting-parent
#   script:
#     - just lint_docs
